{"logger":"discounts-action","ts":"2025-09-14T19:27:29.889Z","message":"Starting product fetching..."}
{"logger":"discounts-action","ts":"2025-09-14T19:27:29.890Z","message":"Starting to fetch all products from Shopify"}
{"logger":"discounts-action","ts":"2025-09-14T19:27:30.667Z","message":"\nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)\n    at ei.handleRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)\n    at ei.handleAndLogRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)\n    at ei.request (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)\n    at a (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)\n    at ProductService.saveOrUpdateProduct (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:351:7)\n    at ProductService.fetchAndSaveAllProducts (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:46:27)\n    at ErrorHandlingService.withErrorHandling (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/error-handling.service.ts:137:14)\n    at action (/home/akash/projects/shopify-apps/discount-remix-akash/app/routes/app._index.tsx:220:22)\n    at Object.callRouteAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/data.js:36:16)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4934:19\n    at callLoaderOrAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4998:16)\n    at async Promise.all (index 0)\n    at defaultDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4807:17)\n    at callDataStrategyImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4870:17)\n    at callDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4027:19)\n    at submit (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3790:21)\n    at queryImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3719:22)\n    at Object.queryRoute (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3664:18)\n    at handleDataRequest (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:234:20)\n    at requestHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:128:18)\n    at nodeHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:859:27)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:862:15","scope":"ProductService.saveOrUpdateProduct","productId":0}
{"logger":"discounts-action","ts":"2025-09-14T19:27:30.671Z","message":"\nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)\n    at ei.handleRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)\n    at ei.handleAndLogRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)\n    at ei.request (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)\n    at a (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)\n    at ProductService.saveOrUpdateProduct (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:351:7)\n    at ProductService.fetchAndSaveAllProducts (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:46:27)\n    at ErrorHandlingService.withErrorHandling (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/error-handling.service.ts:137:14)\n    at action (/home/akash/projects/shopify-apps/discount-remix-akash/app/routes/app._index.tsx:220:22)\n    at Object.callRouteAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/data.js:36:16)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4934:19\n    at callLoaderOrAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4998:16)\n    at async Promise.all (index 0)\n    at defaultDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4807:17)\n    at callDataStrategyImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4870:17)\n    at callDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4027:19)\n    at submit (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3790:21)\n    at queryImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3719:22)\n    at Object.queryRoute (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3664:18)\n    at handleDataRequest (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:234:20)\n    at requestHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:128:18)\n    at nodeHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:859:27)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:862:15","scope":"ProductService.saveOrUpdateProduct","productId":0}
{"logger":"discounts-action","ts":"2025-09-14T19:27:30.682Z","message":"\nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)\n    at ei.handleRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)\n    at ei.handleAndLogRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)\n    at ei.request (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)\n    at a (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)\n    at ProductService.saveOrUpdateProduct (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:351:7)\n    at ProductService.fetchAndSaveAllProducts (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:46:27)\n    at ErrorHandlingService.withErrorHandling (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/error-handling.service.ts:137:14)\n    at action (/home/akash/projects/shopify-apps/discount-remix-akash/app/routes/app._index.tsx:220:22)\n    at Object.callRouteAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/data.js:36:16)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4934:19\n    at callLoaderOrAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4998:16)\n    at async Promise.all (index 0)\n    at defaultDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4807:17)\n    at callDataStrategyImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4870:17)\n    at callDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4027:19)\n    at submit (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3790:21)\n    at queryImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3719:22)\n    at Object.queryRoute (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3664:18)\n    at handleDataRequest (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:234:20)\n    at requestHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:128:18)\n    at nodeHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:859:27)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:862:15","scope":"ProductService.saveOrUpdateProduct","productId":0}
{"logger":"discounts-action","ts":"2025-09-14T19:27:30.699Z","message":"\nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)\n    at ei.handleRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)\n    at ei.handleAndLogRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)\n    at ei.request (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)\n    at a (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)\n    at ProductService.saveOrUpdateProduct (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:351:7)\n    at ProductService.fetchAndSaveAllProducts (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:46:27)\n    at ErrorHandlingService.withErrorHandling (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/error-handling.service.ts:137:14)\n    at action (/home/akash/projects/shopify-apps/discount-remix-akash/app/routes/app._index.tsx:220:22)\n    at Object.callRouteAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/data.js:36:16)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4934:19\n    at callLoaderOrAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4998:16)\n    at async Promise.all (index 0)\n    at defaultDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4807:17)\n    at callDataStrategyImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4870:17)\n    at callDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4027:19)\n    at submit (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3790:21)\n    at queryImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3719:22)\n    at Object.queryRoute (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3664:18)\n    at handleDataRequest (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:234:20)\n    at requestHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:128:18)\n    at nodeHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:859:27)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:862:15","scope":"ProductService.saveOrUpdateProduct","productId":0}
{"logger":"discounts-action","ts":"2025-09-14T19:27:30.707Z","message":"\nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)\n    at ei.handleRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)\n    at ei.handleAndLogRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)\n    at ei.request (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)\n    at a (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)\n    at ProductService.saveOrUpdateProduct (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:351:7)\n    at ProductService.fetchAndSaveAllProducts (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:46:27)\n    at ErrorHandlingService.withErrorHandling (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/error-handling.service.ts:137:14)\n    at action (/home/akash/projects/shopify-apps/discount-remix-akash/app/routes/app._index.tsx:220:22)\n    at Object.callRouteAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/data.js:36:16)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4934:19\n    at callLoaderOrAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4998:16)\n    at async Promise.all (index 0)\n    at defaultDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4807:17)\n    at callDataStrategyImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4870:17)\n    at callDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4027:19)\n    at submit (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3790:21)\n    at queryImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3719:22)\n    at Object.queryRoute (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3664:18)\n    at handleDataRequest (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:234:20)\n    at requestHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:128:18)\n    at nodeHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:859:27)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:862:15","scope":"ProductService.saveOrUpdateProduct","productId":0}
{"logger":"discounts-action","ts":"2025-09-14T19:27:30.714Z","message":"\nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)\n    at ei.handleRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)\n    at ei.handleAndLogRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)\n    at ei.request (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)\n    at a (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)\n    at ProductService.saveOrUpdateProduct (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:351:7)\n    at ProductService.fetchAndSaveAllProducts (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:46:27)\n    at ErrorHandlingService.withErrorHandling (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/error-handling.service.ts:137:14)\n    at action (/home/akash/projects/shopify-apps/discount-remix-akash/app/routes/app._index.tsx:220:22)\n    at Object.callRouteAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/data.js:36:16)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4934:19\n    at callLoaderOrAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4998:16)\n    at async Promise.all (index 0)\n    at defaultDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4807:17)\n    at callDataStrategyImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4870:17)\n    at callDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4027:19)\n    at submit (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3790:21)\n    at queryImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3719:22)\n    at Object.queryRoute (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3664:18)\n    at handleDataRequest (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:234:20)\n    at requestHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:128:18)\n    at nodeHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:859:27)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:862:15","scope":"ProductService.saveOrUpdateProduct","productId":0}
{"logger":"discounts-action","ts":"2025-09-14T19:27:30.731Z","message":"\nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)\n    at ei.handleRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)\n    at ei.handleAndLogRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)\n    at ei.request (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)\n    at a (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)\n    at ProductService.saveOrUpdateProduct (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:351:7)\n    at ProductService.fetchAndSaveAllProducts (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:46:27)\n    at ErrorHandlingService.withErrorHandling (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/error-handling.service.ts:137:14)\n    at action (/home/akash/projects/shopify-apps/discount-remix-akash/app/routes/app._index.tsx:220:22)\n    at Object.callRouteAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/data.js:36:16)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4934:19\n    at callLoaderOrAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4998:16)\n    at async Promise.all (index 0)\n    at defaultDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4807:17)\n    at callDataStrategyImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4870:17)\n    at callDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4027:19)\n    at submit (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3790:21)\n    at queryImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3719:22)\n    at Object.queryRoute (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3664:18)\n    at handleDataRequest (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:234:20)\n    at requestHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:128:18)\n    at nodeHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:859:27)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:862:15","scope":"ProductService.saveOrUpdateProduct","productId":0}
{"logger":"discounts-action","ts":"2025-09-14T19:27:30.738Z","message":"\nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)\n    at ei.handleRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)\n    at ei.handleAndLogRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)\n    at ei.request (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)\n    at a (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)\n    at ProductService.saveOrUpdateProduct (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:351:7)\n    at ProductService.fetchAndSaveAllProducts (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:46:27)\n    at ErrorHandlingService.withErrorHandling (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/error-handling.service.ts:137:14)\n    at action (/home/akash/projects/shopify-apps/discount-remix-akash/app/routes/app._index.tsx:220:22)\n    at Object.callRouteAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/data.js:36:16)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4934:19\n    at callLoaderOrAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4998:16)\n    at async Promise.all (index 0)\n    at defaultDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4807:17)\n    at callDataStrategyImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4870:17)\n    at callDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4027:19)\n    at submit (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3790:21)\n    at queryImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3719:22)\n    at Object.queryRoute (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3664:18)\n    at handleDataRequest (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:234:20)\n    at requestHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:128:18)\n    at nodeHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:859:27)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:862:15","scope":"ProductService.saveOrUpdateProduct","productId":0}
{"logger":"discounts-action","ts":"2025-09-14T19:27:30.746Z","message":"\nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)\n    at ei.handleRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)\n    at ei.handleAndLogRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)\n    at ei.request (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)\n    at a (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)\n    at ProductService.saveOrUpdateProduct (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:351:7)\n    at ProductService.fetchAndSaveAllProducts (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:46:27)\n    at ErrorHandlingService.withErrorHandling (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/error-handling.service.ts:137:14)\n    at action (/home/akash/projects/shopify-apps/discount-remix-akash/app/routes/app._index.tsx:220:22)\n    at Object.callRouteAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/data.js:36:16)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4934:19\n    at callLoaderOrAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4998:16)\n    at async Promise.all (index 0)\n    at defaultDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4807:17)\n    at callDataStrategyImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4870:17)\n    at callDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4027:19)\n    at submit (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3790:21)\n    at queryImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3719:22)\n    at Object.queryRoute (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3664:18)\n    at handleDataRequest (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:234:20)\n    at requestHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:128:18)\n    at nodeHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:859:27)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:862:15","scope":"ProductService.saveOrUpdateProduct","productId":0}
{"logger":"discounts-action","ts":"2025-09-14T19:27:30.752Z","message":"\nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)\n    at ei.handleRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)\n    at ei.handleAndLogRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)\n    at ei.request (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)\n    at a (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)\n    at ProductService.saveOrUpdateProduct (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:351:7)\n    at ProductService.fetchAndSaveAllProducts (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:46:27)\n    at ErrorHandlingService.withErrorHandling (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/error-handling.service.ts:137:14)\n    at action (/home/akash/projects/shopify-apps/discount-remix-akash/app/routes/app._index.tsx:220:22)\n    at Object.callRouteAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/data.js:36:16)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4934:19\n    at callLoaderOrAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4998:16)\n    at async Promise.all (index 0)\n    at defaultDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4807:17)\n    at callDataStrategyImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4870:17)\n    at callDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4027:19)\n    at submit (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3790:21)\n    at queryImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3719:22)\n    at Object.queryRoute (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3664:18)\n    at handleDataRequest (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:234:20)\n    at requestHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:128:18)\n    at nodeHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:859:27)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:862:15","scope":"ProductService.saveOrUpdateProduct","productId":0}
{"logger":"discounts-action","ts":"2025-09-14T19:27:30.758Z","message":"\nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)\n    at ei.handleRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)\n    at ei.handleAndLogRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)\n    at ei.request (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)\n    at a (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)\n    at ProductService.saveOrUpdateProduct (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:351:7)\n    at ProductService.fetchAndSaveAllProducts (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:46:27)\n    at ErrorHandlingService.withErrorHandling (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/error-handling.service.ts:137:14)\n    at action (/home/akash/projects/shopify-apps/discount-remix-akash/app/routes/app._index.tsx:220:22)\n    at Object.callRouteAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/data.js:36:16)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4934:19\n    at callLoaderOrAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4998:16)\n    at async Promise.all (index 0)\n    at defaultDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4807:17)\n    at callDataStrategyImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4870:17)\n    at callDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4027:19)\n    at submit (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3790:21)\n    at queryImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3719:22)\n    at Object.queryRoute (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3664:18)\n    at handleDataRequest (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:234:20)\n    at requestHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:128:18)\n    at nodeHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:859:27)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:862:15","scope":"ProductService.saveOrUpdateProduct","productId":0}
{"logger":"discounts-action","ts":"2025-09-14T19:27:30.762Z","message":"\nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)\n    at ei.handleRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)\n    at ei.handleAndLogRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)\n    at ei.request (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)\n    at a (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)\n    at ProductService.saveOrUpdateProduct (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:351:7)\n    at ProductService.fetchAndSaveAllProducts (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:46:27)\n    at ErrorHandlingService.withErrorHandling (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/error-handling.service.ts:137:14)\n    at action (/home/akash/projects/shopify-apps/discount-remix-akash/app/routes/app._index.tsx:220:22)\n    at Object.callRouteAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/data.js:36:16)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4934:19\n    at callLoaderOrAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4998:16)\n    at async Promise.all (index 0)\n    at defaultDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4807:17)\n    at callDataStrategyImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4870:17)\n    at callDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4027:19)\n    at submit (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3790:21)\n    at queryImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3719:22)\n    at Object.queryRoute (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3664:18)\n    at handleDataRequest (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:234:20)\n    at requestHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:128:18)\n    at nodeHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:859:27)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:862:15","scope":"ProductService.saveOrUpdateProduct","productId":0}
{"logger":"discounts-action","ts":"2025-09-14T19:27:30.768Z","message":"\nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)\n    at ei.handleRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)\n    at ei.handleAndLogRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)\n    at ei.request (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)\n    at a (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)\n    at ProductService.saveOrUpdateProduct (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:351:7)\n    at ProductService.fetchAndSaveAllProducts (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:46:27)\n    at ErrorHandlingService.withErrorHandling (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/error-handling.service.ts:137:14)\n    at action (/home/akash/projects/shopify-apps/discount-remix-akash/app/routes/app._index.tsx:220:22)\n    at Object.callRouteAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/data.js:36:16)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4934:19\n    at callLoaderOrAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4998:16)\n    at async Promise.all (index 0)\n    at defaultDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4807:17)\n    at callDataStrategyImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4870:17)\n    at callDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4027:19)\n    at submit (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3790:21)\n    at queryImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3719:22)\n    at Object.queryRoute (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3664:18)\n    at handleDataRequest (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:234:20)\n    at requestHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:128:18)\n    at nodeHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:859:27)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:862:15","scope":"ProductService.saveOrUpdateProduct","productId":0}
{"logger":"discounts-action","ts":"2025-09-14T19:27:30.774Z","message":"\nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)\n    at ei.handleRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)\n    at ei.handleAndLogRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)\n    at ei.request (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)\n    at a (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)\n    at ProductService.saveOrUpdateProduct (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:351:7)\n    at ProductService.fetchAndSaveAllProducts (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:46:27)\n    at ErrorHandlingService.withErrorHandling (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/error-handling.service.ts:137:14)\n    at action (/home/akash/projects/shopify-apps/discount-remix-akash/app/routes/app._index.tsx:220:22)\n    at Object.callRouteAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/data.js:36:16)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4934:19\n    at callLoaderOrAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4998:16)\n    at async Promise.all (index 0)\n    at defaultDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4807:17)\n    at callDataStrategyImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4870:17)\n    at callDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4027:19)\n    at submit (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3790:21)\n    at queryImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3719:22)\n    at Object.queryRoute (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3664:18)\n    at handleDataRequest (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:234:20)\n    at requestHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:128:18)\n    at nodeHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:859:27)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:862:15","scope":"ProductService.saveOrUpdateProduct","productId":0}
{"logger":"discounts-action","ts":"2025-09-14T19:27:30.780Z","message":"\nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)\n    at ei.handleRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)\n    at ei.handleAndLogRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)\n    at ei.request (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)\n    at a (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)\n    at ProductService.saveOrUpdateProduct (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:351:7)\n    at ProductService.fetchAndSaveAllProducts (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:46:27)\n    at ErrorHandlingService.withErrorHandling (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/error-handling.service.ts:137:14)\n    at action (/home/akash/projects/shopify-apps/discount-remix-akash/app/routes/app._index.tsx:220:22)\n    at Object.callRouteAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/data.js:36:16)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4934:19\n    at callLoaderOrAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4998:16)\n    at async Promise.all (index 0)\n    at defaultDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4807:17)\n    at callDataStrategyImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4870:17)\n    at callDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4027:19)\n    at submit (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3790:21)\n    at queryImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3719:22)\n    at Object.queryRoute (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3664:18)\n    at handleDataRequest (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:234:20)\n    at requestHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:128:18)\n    at nodeHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:859:27)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:862:15","scope":"ProductService.saveOrUpdateProduct","productId":0}
{"logger":"discounts-action","ts":"2025-09-14T19:27:30.784Z","message":"\nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)\n    at ei.handleRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)\n    at ei.handleAndLogRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)\n    at ei.request (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)\n    at a (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)\n    at ProductService.saveOrUpdateProduct (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:351:7)\n    at ProductService.fetchAndSaveAllProducts (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:46:27)\n    at ErrorHandlingService.withErrorHandling (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/error-handling.service.ts:137:14)\n    at action (/home/akash/projects/shopify-apps/discount-remix-akash/app/routes/app._index.tsx:220:22)\n    at Object.callRouteAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/data.js:36:16)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4934:19\n    at callLoaderOrAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4998:16)\n    at async Promise.all (index 0)\n    at defaultDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4807:17)\n    at callDataStrategyImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4870:17)\n    at callDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4027:19)\n    at submit (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3790:21)\n    at queryImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3719:22)\n    at Object.queryRoute (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3664:18)\n    at handleDataRequest (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:234:20)\n    at requestHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:128:18)\n    at nodeHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:859:27)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:862:15","scope":"ProductService.saveOrUpdateProduct","productId":0}
{"logger":"discounts-action","ts":"2025-09-14T19:27:30.790Z","message":"\nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.product.upsert()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)\n    at ei.handleRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:228:13)\n    at ei.handleAndLogRequestError (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:174:12)\n    at ei.request (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/RequestHandler.ts:143:12)\n    at a (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@prisma/client/src/runtime/getPrismaClient.ts:833:24)\n    at ProductService.saveOrUpdateProduct (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:351:7)\n    at ProductService.fetchAndSaveAllProducts (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/product.service.ts:46:27)\n    at ErrorHandlingService.withErrorHandling (/home/akash/projects/shopify-apps/discount-remix-akash/app/services/error-handling.service.ts:137:14)\n    at action (/home/akash/projects/shopify-apps/discount-remix-akash/app/routes/app._index.tsx:220:22)\n    at Object.callRouteAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/data.js:36:16)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4934:19\n    at callLoaderOrAction (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4998:16)\n    at async Promise.all (index 0)\n    at defaultDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4807:17)\n    at callDataStrategyImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4870:17)\n    at callDataStrategy (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:4027:19)\n    at submit (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3790:21)\n    at queryImpl (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3719:22)\n    at Object.queryRoute (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/router/router.ts:3664:18)\n    at handleDataRequest (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:234:20)\n    at requestHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/server-runtime/dist/server.js:128:18)\n    at nodeHandler (/home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:859:27)\n    at /home/akash/projects/shopify-apps/discount-remix-akash/node_modules/@remix-run/dev/dist/vite/plugin.js:862:15","scope":"ProductService.saveOrUpdateProduct","productId":0}
{"logger":"discounts-action","ts":"2025-09-14T19:27:31.290Z","message":"Product fetch completed","totalFound":18,"processed":1,"skipped":17,"errors":0}
{"logger":"discounts-action","ts":"2025-09-14T19:27:31.290Z","message":"Product fetching completed","success":true,"totalFound":18,"processed":1,"skipped":17,"errors":0}
{"logger":"discounts-action","ts":"2025-09-14T19:28:51.488Z","message":"Starting product fetching..."}
{"logger":"discounts-action","ts":"2025-09-14T19:28:51.489Z","message":"Starting to fetch all products from Shopify"}
{"logger":"discounts-action","ts":"2025-09-14T19:28:52.874Z","message":"Product fetch completed","totalFound":18,"processed":18,"skipped":0,"errors":0}
{"logger":"discounts-action","ts":"2025-09-14T19:28:52.874Z","message":"Product fetching completed","success":true,"totalFound":18,"processed":18,"skipped":0,"errors":0}
{"logger":"discounts-action","ts":"2025-09-14T19:40:03.753Z","message":"Starting product fetching..."}
{"logger":"discounts-action","ts":"2025-09-14T19:40:03.753Z","message":"Starting to fetch all products from Shopify"}
{"logger":"discounts-action","ts":"2025-09-14T19:40:05.307Z","message":"Product fetch completed","totalFound":18,"processed":18,"skipped":0,"errors":0}
{"logger":"discounts-action","ts":"2025-09-14T19:40:05.307Z","message":"Product fetching completed","success":true,"totalFound":18,"processed":18,"skipped":0,"errors":0}
